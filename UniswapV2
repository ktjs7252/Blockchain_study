# 유니스왑

탈중앙화 거래소는 이더리움 인터벌이 15초이다.
중앙화거래소는 거래가 성립되야 수수료가 드는데 탈중앙화거래소는 다 수수료가 든다 트랜잭션으로 이루어지기 때문에

그래서 탈중앙화 거래소를 중앙화거래소랑 비슷하게 만들면 느리고 비싸고 바효율족인 거래소가 된다,

 유니스왑은 새로운 방식을 도입(AMM)
 -원래는 원하는 가겨격 팔고싶으ㄴ가격 호가등 유동성 공급을 자 동적으로 정해지게 교환비를 사용
 -> CPMM

  - 유니스왑 작동원리
 팩토리 컨트랙트
 토큰익스채인지 컨트랙트

팩토리 컨트랙트는 우리가 토큰페어를 정한다. 
단점 : 그 토근과 어떤 새로운 토큰사이에대한 컨트랙트를 새로 만들어야한다.
컨트랙주소를 효율적이지 않다.

그래서 토큰익스체인지 컨트랙트사용
LP 토큰이 풀 수량을 정해주는 부분


## 유니스왑 백서정리

V1에서는 무조건 이더리움을 기축통화, TOKEN EXCHANGE 컨트랙트로 사용
V2 여러 무작위 PAIR를 만들 수 있음. 
-> 이 과정을 통해 IMPERMANENT LOSS(일시적인 손해)를 줄였다는데 이건 이해안감.
-> V2도 마찬가지로 IMPERMANENT LOSS가 발생함. 이자만 얻는것이 아님

이더리움과 ERC-20의 PAIR를 따로 처리해야하는데 같은 로직에 대한 경우의 수가 두번 생기기 때문에 V2는 이더리움을 안쓰고 wrapped ETH / 이더리움을 erc-20토큰 형태로
wrapping 한것을 사용.
-> 이렇게 되면 코드도 간단해지고 수수료도 적게든다. 이더리움인직 erc-20인지 판단하는 로직이 간단해지기 때문

그리고 제일 중요한 수수료에 대한 로직이 생김

토큰 교환비에 대한 가격변동 로직도 생김->price oracle

